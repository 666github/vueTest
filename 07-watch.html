<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<script src=".././node_modules/vue/dist/vue.min.js"></script>
<body>
        <div id="app">
            <!-- 新值与旧值 -->
            <!-- 监听复杂数据类型object array深度监听 -->
            <button>sds</button>
        </div>
        <script>
            var App={//声子
                data() {
                    return {
                        msg:'',
                        stus:[{name:'jack'}]
                    }
                },
                watch:{
                    msg:function(newV,oldV){
                        console.log(newV,oldV);
                    },
                    stus:{
                        deep:true,
                        handler:function(newV,oldV){
                        console.log(newV[0].name,oldV[0].name);//rose,rose
                        }
                    }
                },
                template:`
                    <div>
                         <input type='text' v-model="msg" /><span>{{msg}}</span>
                         <button @click="stus[0].name='rose'">改变</button><span>{{stus[0].name}}</span>
                    </div>
                `
               
            }
            new Vue({
                el:'#app',
                components:{//挂子
                    App
                },//用子
                template:`
                    <App/>
                `
            })
        </script>
</body>
</html>